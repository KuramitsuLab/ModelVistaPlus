# ベンチマーク問題レビューツール

ブラウザで動作する4選択問題のレビュー・管理ツールを作成します。
分からない点あれば質問して下さい．

## 目的

既存のベンチマーク問題（4選択問題）の品質レビューを効率的に行い、採用・不採用を判定するツールを開発します。

## 画面イメージ
- `ModelVistaPlus/reviewtool_image.png`：レビューするメイン画面のイメージ．

## 対象データ構造

### フォルダ構成
```
プロジェクトルート/
├─ model/
│  ├─ activity001/
│  │  ├─ dgpowerpoint_ja-fs8.png  ← レビュー時に表示する画像
│  │  ├─ qa_new_ja.json           ← レビュー対象1
│  │  ├─ qa_new_ja2.json          ← レビュー対象2（存在する場合）
│  │  └─ qa_old_ja.json           ← 将来的に対応予定
│  ├─ activity002/
│  ├─ class001/
│  └─ class002/
│     ...
```

### JSONファイル形式（qa_new_ja.json）
```json
[
  {
    "tag": "依存関係",
    "question": "「PC利用登録チケット作成フォームの表示」が実行される前に必ず完了していなければならない処理はどれか?",
    "choice": [
      "問い合わせ種別に「PC利用登録」を指定",  // 正解（常に1番目）
      "依頼先情報を入力してチケットを確定",
      "入力内容の確認表示",
      "チケットを保存し受付メールを送信"
    ],
    "authored_by": "claude",
    "is_translated": false
  }
]
```

## ワークフロー

### 1. 要件定義フェーズ
spec/req.md を作成し、以下を明記します：

**機能要求**
- フォルダ選択機能（activity001, class001など）
- JSONファイル選択機能（qa_new_ja.json / qa_new_ja2.json）
- 画像表示機能（dgpowerpoint_ja-fs8.png）
- 問題表示機能（1問ずつ表示、正解を視覚的に強調）
- レビュー機能（採用/不採用ボタン、備考欄）
- ナビゲーション機能（前へ/次へボタン）
- レビュワー名入力機能
- レビュー状態管理機能（誰が、いつレビューしたか）
- フィルタリング機能（レビュー済み/未レビュー）
- 出力機能（採用/不採用問題の分離）

**非機能要求**
- ブラウザで動作（HTMLファイルを開くだけで使える）
- Gitでのバージョン管理に対応
- 複数人での作業を想定（pull/push運用）
- 高速な問題処理（さっさと捌けるUI）
- 視認性の高いデザイン（1画面の情報量を抑える）

### 2. アーキテクチャ設計フェーズ
spec/arch.md を作成し、以下を定義します：

**技術スタック**
- HTML/CSS/JavaScript（バニラJS または React）
- ローカルストレージによる状態管理
- File API によるJSONファイル読み込み

**データ管理**
- レビュー状態：`review_status.json`（フォルダごとの進捗、レビュワー情報）
- 出力ファイル：
  - `qa_new_ja_approved.json`（採用問題）
  - `qa_new_ja_rejected.json`（不採用問題）
  - `qa_new_ja2_approved.json`（存在する場合）
  - `qa_new_ja2_rejected.json`（存在する場合）

**Git運用との統合**
- 各レビュワーはローカルでレビュー実施
- レビュー結果（approved/rejected JSON）をコミット
- `review_status.json`で進捗共有

### 3. ユーザマニュアル作成フェーズ
spec/user_man.md を作成します：

**基本操作**
1. ツールを開く（HTMLファイルをブラウザで開く）
2. レビュワー名を入力
3. 対象フォルダを選択（例：activity001）
4. JSONファイルを選択（qa_new_ja.json または qa_new_ja2.json）
5. 画像を見ながら問題をレビュー
   - 正解選択肢は強調表示される
   - 採用/不採用ボタンをクリック
   - 必要に応じて備考欄にコメント入力
6. 「次へ」ボタンで次の問題へ
7. 全問題完了後、結果を保存

**Git運用手順**
1. `git pull` で最新状態を取得
2. レビュー作業実施
3. 出力ファイル（approved/rejected JSON）を確認
4. `git add`, `git commit`, `git push`

### 4. 実装フェーズ
src/ ディレクトリ下にコード一式を生成します：

**ファイル構成**
```
src/
├─ index.html          # メインUI
├─ styles.css          # スタイル定義
├─ app.js              # メインロジック
├─ fileHandler.js      # ファイル読み込み処理
├─ reviewManager.js    # レビュー状態管理
└─ exporter.js         # JSON出力処理
```

### 5. 評価フェーズ（オプション）
spec/req.md を参照し、以下を評価します：
- 全機能要求が実装されているか
- UI/UXが「さっさと捌ける」要件を満たしているか
- Git運用との統合が適切か
- 複数人作業時の競合リスクの有無

## 将来的な拡張

- `qa_old_ja.json` への対応（ファイル構造の差異を吸収）
- 他の画像タイプへの対応（dghandwritten_ja-fs8.png など）
- レビュー統計機能（採用率、レビュワー別集計など）
- より高度な競合解決機能

## 注意事項

- 元のJSONファイルは変更せず、新しいファイルを生成する
- レビュー状態は`review_status.json`で一元管理
- Git操作は手動で行う（ツールはファイル生成のみ）
