# SKIP_database002 - 開発判断向け要素抽出

## 機能要求
- ユーザー情報の管理（users テーブル：id, name, email）
- 書籍情報の管理（books テーブル：id, title, author, publisher, published_at, isbn, price）
- 貸出情報の管理（lendings テーブル：id, user_id, book_id, lent_at, returned_at）
- ユーザーと貸出の関連付け機能
- 書籍と貸出の関連付け機能
- 貸出日・返却日の記録機能

## 非機能要求
- データの整合性（外部キー制約：user_id, book_id）
- 一意性制約（各テーブルのid）
- データ型の適切性（日付型、文字列型、数値型）
- メールアドレスの形式検証

## 依存関係
- lendings テーブルは users テーブルに依存（user_id 外部キー）
- lendings テーブルは books テーブルに依存（book_id 外部キー）
- 返却日（returned_at）は貸出日（lent_at）より後である必要がある

## 前提条件・制約
- users テーブル：5名のユーザーが登録済み
- books テーブル：6冊の書籍が登録済み
- lendings テーブル：4件の貸出記録が存在
- ISBNは13桁の形式（978で始まる）
- 価格は円単位
- メールアドレスは@example.comドメイン

## リスク・例外条件
- 同じユーザーが同時に複数の本を借りる場合の処理
- 同じ本を複数のユーザーが同時に借りることはできない（在庫管理が必要）
- 返却日が記録されていない場合（貸出中）の判定
- 延滞処理の仕組みが不明
- 書籍の削除時に貸出履歴が残るかの考慮が必要

## その他の開発上の重要な判断材料
- 具体的なデータ例：
  - users: 5名（山田太郎、鈴木花子、佐藤次郎、田中夢子、小林三郎）
  - books: 6冊（プログラミング、IT基礎、システム設計、ソフトウェア開発、統計学、AI関連）
  - lendings: 4件の貸出記録（すべて返却済み）
- 貸出期間の例：最短4日（id=4）、最長13日（id=1）
- 価格帯：1,800円～2,540円
- 出版年：2015年～2021年
