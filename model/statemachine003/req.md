# 開発判断に関連する要素

## 機能要求
- 待機中状態管理機能
- 湯沸し中状態管理機能（entry/湯沸しランプを点灯、do/湯を沸かす、exit/湯沸しランプを消灯）
- 保温中状態管理機能（entry/保温ランプを点灯、do/保温する、exit/保温ランプを消灯）
- 湯沸しボタン押下処理機能（水位が基準以上かつ上蓋が閉じている場合に湯沸し中へ遷移）
- 上蓋開閉検知機能（上蓋が開いたら待機中へ遷移）
- 水位変化検知機能（水位が基準未満になったら待機中へ遷移）
- 湯沸し完了検知機能（湯沸し中から保温中へ遷移）
- 電源OFF処理機能（各状態から終了状態へ遷移）

## 非機能要求
- 安全性：上蓋が開いている状態や水位不足では湯沸しを開始しない
- 状態管理：4つの状態（初期状態、待機中、湯沸し中、保温中、終了状態）の明確な定義
- 遷移制御：各イベントと条件に応じた状態遷移の制御
- ユーザビリティ：ランプ表示による状態の可視化

## 依存関係
- 湯沸し中への遷移は「水位が基準以上」かつ「上蓋が閉じている」条件に依存
- 保温中への遷移は湯沸し完了に依存
- 待機中への遷移は「上蓋が開いた」または「水位が基準未満」イベントに依存
- 終了状態への遷移は電源OFFに依存

## 前提条件・制約
- 初期状態から待機中へ自動遷移
- 湯沸しボタン押下時の条件：水位が基準以上かつ上蓋が閉じている
- 湯沸し中と保温中はentry/do/exitアクションを持つ
- 上蓋が開いた場合は待機中へ強制遷移
- 水位が基準未満の場合は待機中へ強制遷移
- 電源OFFはどの状態からも終了状態へ遷移可能

## リスク・例外条件
- 水位が基準未満で湯沸しボタンを押しても湯沸し中に遷移しない
- 上蓋が開いている状態で湯沸しボタンを押しても湯沸し中に遷移しない
- 湯沸し中または保温中に上蓋が開いた場合の安全処理（待機中へ遷移）
- 湯沸し中または保温中に水位が基準未満になった場合の安全処理
- 電源OFF時のランプ消灯処理
- 湯沸し完了の判定基準が図に明示されていない
